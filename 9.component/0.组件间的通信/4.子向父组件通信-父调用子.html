<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title4.子向父组件通信-父调用子</title>
    <script src="../../vue.js"></script>
</head>
<body>
<div id="father">
    <p>{{total}}</p>
    <button v-on:click="checkref">调用子组件</button>
    <child-component ref="child"></child-component>
</div>
<script>
    //通过在子组件上引用ref,从而获得子组件实例，进行相应操作。
    var Child=Vue.component("child-component",{
        template:'<button v-on:click="add">{{counter}}</button>',
        data:function(){
            return{
                counter:0
            }
        },
        methods:{
            add : function(num){
                this.counter +=1;
                console.log('接受父组件的值：',num) //num为11
            }
        }
    });
    var vm=new Vue({
        el:"#father",
        data:{
            total:0
        },
        methods:{
            checkref:function () {
                var child = this.$refs.child; //获取子组件实例
                child.counter = 4;           //改变子组件数据
                child.add(11);               //调用子组件方法 add
            }
        }
    })
</script>
</body>
</html>