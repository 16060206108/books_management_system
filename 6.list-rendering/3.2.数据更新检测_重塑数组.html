<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>列表渲染 数据更新检测_重塑数组</title>
    <script src="../vue.js"></script>
</head>
<body>
<!-- 有非变异(non-mutating method)方法，例如： filter(), concat(), slice() 。这些不会改变原始数组，但总是返回一个新数组。-->
<ul id="demo1">
    <li v-for="item in items">{{item.msg}}</li>
</ul>
<script>
    var vm1=new Vue({
        el:"#demo1",
        data:{
            items:[
                {msg:"foo"},
                {msg:"bar"}
            ]
        }
    });
    //当使用非变异方法时，可以用新数组替换旧数组
    vm1.items = vm1.items.filter(function (item) {
        return item.msg.match(/foo/)
    });
    //你可能认为这将导致 Vue 丢弃现有 DOM 并重新渲染整个列表。幸运的是，事实并非如此。
    // Vue 实现了一些智能启发式方法来最大化 DOM 元素重用，所以用一个含有相同元素的数组去替换原来的数组是非常高效的操作。
</script>
</body>
</html>