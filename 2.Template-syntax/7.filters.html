<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>过滤器</title>
    <script src="../vue.js"></script>
</head>
<body>
<div id="app">
    <!-- Vue.js 允许你自定义过滤器，被用作一些常见的文本格式化。过滤器应该被添加在 mustache--{} 里插值的尾部，
    由“管道符”--“|”指示： -->

    <!-- in mustaches -->
    <h1>{{msg|capitalize}}</h1>
    <!-- in v-bind -->
    <h1 v-bind:id="rawId|formatId"></h1>

    <!-- 过滤器可以串联： -->
    <p>{{ message | filterA | filterB }}</p>
    <!-- 过滤器是 JavaScript 函数，因此可以接受参数：字符串 'arg1' 将传给过滤器作为第二个参数， arg2 表达式的值将被求值然后传给过滤器作为第三个参数。 -->
    <p>{{ message | filterA('arg1', arg2) }}</p>
</div>
<script>
    /**注意：Vue 2.x 中，过滤器只能在 mustache 绑定和 v-bind 表达式（从 2.1.0 开始支持）中使用，因为过滤器设计目的就是用于文本转换。为了在其他指令中实现更复杂的数据变换，你应该使用计算属性。*/
    new Vue({
        el:"#app",
        data:{
            msg:"wang guo fu",
            rawId:1111
        },
        filters: {//过滤器函数总接受表达式的值作为第一个参数。
            capitalize: function (value) {
                if (!value) return '';
                value = value.toString();
                return value.charAt(0).toUpperCase() + value.slice(1);
            },
            formatId:function (value) {
                if (!value) return '';
                return value.toString();
            }
        }
    })
</script>
</body>
</html>